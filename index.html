<!DOCTYPE html>
<html>

<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="style.css" >
    <title>Adicionar Músicos e Bandas ao Firestore</title>
</head>

<body>
    <h1>Adicionar Músicos e Bandas ao Firestore</h1>
    <form id="meuFormulario">
        <label for="musico">Nome do Músico:</label>
        <input type="text" id="musico" name="musico" required>
        <label for="banda">Nome da Banda:</label>
        <input type="text" id="banda" name="banda" required>
        <button type="submit">Salvar</button>
    </form>

    <h2>Músicos e Bandas Cadastrados:</h2>
    <ul id="musicos-bandas-list"></ul>

    <!-- Adicione a biblioteca do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.1/firebase-firestore.js"></script>

    <script>
        // Configurar as credenciais do Firebase
        var firebaseConfig = {
            apiKey: "AIzaSyBqcQrBPWd1zZAA0WHMfKOh-lEFhHxEkPY",
            authDomain: "db31-b6d67.firebaseapp.com",
            projectId: "db31-b6d67",
        };
           // Inicializar o Firebase
           firebase.initializeApp(firebaseConfig);

// Referenciar o Firestore
var db = firebase.firestore();

// Capturar o formulário e salvar dados no Firestore ao enviá-lo
document.getElementById("meuFormulario").addEventListener("submit", function (event) {
    event.preventDefault();

    var musico = document.getElementById("musico").value;
    var banda = document.getElementById("banda").value;

    // Salvar os dados na coleção "musicos-bandas"
    db.collection("musicos-bandas").add({
        musico: musico,
        banda: banda
    })
        .then(function (docRef) {
            console.log("Dados salvos com ID: ", docRef.id);
            alert("Dados salvos com sucesso!");
            // Limpar os campos do formulário após salvar os dados
            document.getElementById("meuFormulario").reset();
        })
        .catch(function (error) {
            console.error("Erro ao salvar dados: ", error);
            alert("Ocorreu um erro ao salvar os dados. Por favor, tente novamente.");
        });
});

// Exibir músicos e bandas cadastrados
var musicosBandasList = document.getElementById("musicos-bandas-list");
db.collection("musicos-bandas").onSnapshot(function(snapshot) {
    musicosBandasList.innerHTML = "";
    snapshot.forEach(function(doc) {
        var musicoBandaData = doc.data();
        var li = document.createElement("li");
        li.appendChild(document.createTextNode("Músico: " + musicoBandaData.musico + " | Banda: " + musicoBandaData.banda));
        musicosBandasList.appendChild(li);
    });
});
</script>
</body>

</html>





